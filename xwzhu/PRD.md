

# Asset Performance Management 智能资产管理平台

# 产品愿景

我们的目标是打造一个以“设备管理”为核心、AI驱动、开放协同的工业软件平台。我们将APM定位为应用层的核心底座，补齐 WAGO SCADA 上层应用的功能短板，实现资产主数据的统一沉淀与治理。通过深度集成最新的AI技术，我们不仅提供传统APM的资产台账与全生命周期管理，更赋予平台智能预测与辅助决策的能力，这也是我们区别于传统产品的核心竞争力。该平台将极大地赋能上层应用开发，加速行业项目落地，降低客户的业务创新成本，从而帮助我们覆盖更多资产密集型客户，成为企业数字化转型的坚实底座。


# 核心价值：为什么要开发这个产品？

开发APM是基于下面的现实和战略考量：

- 我们已经拥有成熟的 WAGO SCADA 产品，并以其作为数据通信和可视化底座，形成了“以 WAGO SCADA 为基础、上层开发 App”的平台模式。例如，现有的 EMS 产品就是基于 WAGO SCADA 之上开发的典型应用。
- 但 WAGO SCADA 本身并不具备设备管理功能，而上层的许多 App（如 EMS）又各自实现了设备管理，导致设备主数据分散、重复开发，难以实现全局统一和高效协同。
- 因此，我们希望将设备管理能力，以及设备数据与设备主数据的关联能力，统一沉淀在 APM 平台中。这样，上层 App 可以专注于设备数据的分析和业务创新，无需重复开发设备管理模块。
- 我们已经在滇池水务，格德格瑞项目上积累一些设备管理的经验和可复用的代码
- 未来，公司设备集成组的 iDM 平台也可以作为类似 WAGO SCADA 的数据源接入 APM，进一步丰富数据来源和集成能力。
- 对于未来有 IoT 平台需求的客户，也可以通过 APM 平台，将其网关设备作为数据源直接接入，实现灵活扩展和统一管理。

这样，APM 不仅补齐了 WAGO SCADA-EMS 体系中的设备管理短板，还为未来多源数据集成、统一资产主数据和上层业务创新提供了坚实的数字底座。

目前我们在国内销售 WAGO SCADA 源码，部分客户（如信卓、格德格瑞）还需要上层的设备管理与数据分析能力。通过提供并整合 APM 与 WAGO SCADA，客户可在平台上快速构建应用，显著降低业务软件开发成本、加速创新落地，同时形成产品协同的“1+1>2”效应，带动整体销售增长。

# 技术架构 (LZG)

本章节仅描述**技术架构要求与应达到的效果**，不绑定具体产品/中间件/框架选型；实现时可在满足约束的前提下替换组件与落地方式。

## 1. 架构目标（需要达到的效果）

1. **统一界面入口（一个系统体验）**：用户视角下，所有功能模块应表现为“一个系统”，实现统一入口、统一导航、统一身份、统一主题/语言与一致交互反馈；模块间切换应尽量无割裂。
2. **统一资产主数据**：所有上层应用（EMS、未来 OEE/环保/维保等）对“设备/位置/关系/测点绑定/资产属性”使用同一套权威数据源与 API，避免重复建模与数据孤岛。
3. **动静结合**：静态主数据（台账、结构、属性）与动态数据（测点、事件、时序指标、工单/告警等）可在同一业务上下文中被关联、查询与分析，并可按资产/位置回溯。
4. **配置/插件驱动扩展**：新行业能力通过“启用插件 + 配置”上线，尽量减少定制开发；插件具备可复用、可部署、可隔离与可治理特性（启用/停用/升级/回滚）。
5. **多维指标体系**：支持按任意业务维度（楼层/产线/设备类型/状态/自定义标签等）进行过滤、分组、下钻、趋势对比；维度扩展可配置且口径一致。
6. **国产化与内网部署友好**：支持纯内网、离线/弱网、国产软硬件环境；外部依赖可替换且不形成强绑定。
7. **可观测、可运维、可演进**：链路追踪、审计、备份恢复、滚动升级、数据保留与归档策略具备可操作性；支持分阶段演进与平滑迁移。

---

## 2. 分层与模块边界（逻辑架构要求）

平台逻辑上应至少拆分为以下层次，各层通过明确契约解耦；禁止跨层直接耦合底层存储或内部实现细节。

### 2.1 统一界面入口（统一工作台/门户）

- 作为唯一用户入口，负责全局导航、路由、身份、权限、主题、多语言、消息中心与全局交互规范治理；自身不承载具体行业业务逻辑。
- 支持模块化集成与独立交付，各业务模块可独立演进、独立部署；入口在运行时按配置启用/禁用与装配。
- 页面与导航支持配置驱动，可在不整体发布的前提下调整信息架构与模块可见性（受权限控制）。
- 提供跨模块一致的交互体验（加载/错误/成功提示、表单规范、通知与待办呈现等），降低学习成本。
- 对关键协同能力（模块清单、导航树、页面编排、用户与权限、主题与多语言等）定义稳定契约，并具备版本管理与兼容策略。

### 2.2 统一数据接入层（Adapters）

- 支持从 WAGO SCADA、iDM、IoT 网关以及第三方系统（ERP/MES/CMMS 等）接入数据。
- 接入层负责规范化事件结构、鉴权、限流、幂等与基础校验，形成可复用的接入治理能力。

### 2.3 事件/消息骨干（Event Backbone）

- 解耦生产者与消费者；支持至少一次投递；支持回放（replay）与按时间范围重放。
- 需支持对事件的全链路追踪（来源、处理状态、失败原因、重试/回放记录），并可用于问题定位与运维操作。
- 事件需包含租户标识、幂等键、业务时间、接入时间、来源标识、事件类型/版本等元信息。

### 2.4 规则与指标计算层（Rules & KPI Engine）

- 支持声明式规则/指标定义（来自行业插件配置），并具备运行时解释执行能力。
- 至少覆盖两类典型计算：
  - 采样型累计量 → 支持差分/增量计算与状态管理（含故障恢复）
  - 事件型计数 → 支持窗口聚合与“空窗口补零”
- 支持乱序/迟到数据处理策略（可配置容忍窗口/水位线等）。
- 支持回补（backfill）与重算（recompute），确保规则变更后可再生历史指标并可追溯依据。

### 2.5 维度打标/语义关联层（Tagging & Context Enrichment）

- 从统一资产模型提取维度（位置层级、资产类型、组织、标签、上下游关系等），注入到派生指标的维度标签中。
- 高频读取需支持缓存与失效策略；维度变更后应可触发增量更新/重打标。

### 2.6 存储层（按职责分库/分域，不限定实现）

- 关系型主数据存储（强一致）：资产类型、资产实例、子模型、测点元数据、插件注册信息、权限与审计等。
- 时序/指标存储（高写入高压缩）：统一指标模型，支持按时间与标签检索、聚合、降采样与保留策略。
- （可选）关系/拓扑增强：用于多跳关系、影响分析、根因路径、血缘追踪等；不用于大规模时序聚合。
- （可选）离线分析/报表增强：用于大规模离线统计、宽表分析与高并发报表。

### 2.7 统一查询与开放接口层（API）

- 对外提供统一的资产 API、指标查询 API、规则/插件管理 API，以及可选的标准兼容接口。
- API 版本化（v1/v2 等）、接口文档与契约测试机制可落地；支持面向服务间调用的统一鉴权与审计。

---

## 3. 统一资产模型（主数据）能力要求

平台需支持：

1. **固定核心结构 + 扩展字段机制**
    - 平台需要面向不同行业与设备类型（例如电表、粮机、以及未来新增行业设备）进行资产建模。这些资产既存在一部分**共享字段**（如编码、名称、位置、状态、归属等），也存在大量**类型特有字段**（如不同设备需追踪的技术参数、铭牌信息、运行约束、验收口径等）。因此需要在**不改变存储机制与接口语义稳定性**的前提下，实现“同一套资产体系可持续扩展字段”的能力。
    - **例如**：
        - 资产类型模板（Asset Type）用于定义该类型资产的字段元数据（schema），包括字段标识、名称、数据类型、单位/枚举、必填/默认值、校验规则、是否可检索/可聚合、展示分组等。
        - 资产实例（Asset Instance）存放固定核心字段与扩展字段值（properties），并可依据“资产类型模板”进行字段校验与一致性约束。
    - 扩展字段机制应避免通过频繁结构变更来适配新类型字段，从而降低升级与运维风险；同时应支持按需建立索引/检索能力，确保在常用查询场景下具备可控的性能与成本。

2. **子模型（Submodel）挂载**
	- 同一资产可挂载多个子模型（维保、能效、健康、巡检等），子模型亦支持扩展属性与模板化。
	- 效果：核心资产稳定，业务能力按需叠加，降低模块耦合。

3. **测点绑定（Measurement Point）**
	- 将测点与资产建立绑定关系（测点标识 → asset_id + metric_name + unit + data_type 等）。
	- 支持批量导入、校验、继承/模板化绑定，以及（可选）插件提供绑定建议。

4. **多维关系表达**
	- 支持树形层级与多对多网状关系（供电关系、工艺关系、网络关系等）。
	- 对多归属/多跳复杂关系，需提供可选增强能力，避免关系查询复杂度失控。

---

## 4. 行业插件机制（平台级要求）

插件是“可复用、可部署、可隔离的行业解决方案包”，平台需要提供：

1. **插件包规范与注册**
	- 插件包含元数据（名称/版本/依赖/兼容性）、资产类型/子模型、KPI 定义、规则、看板/页面配置（以及可选扩展能力声明）。
	- 插件可启用/禁用、版本升级/回滚、依赖校验、冲突检测（同名 key、字段名冲突、指标冲突等）。

2. **声明式优先，扩展受控**
	- 大多数场景通过声明式配置落地；复杂逻辑允许可选扩展，但必须具备隔离与安全边界（资源限制、权限、审计）。

3. **运行时生效与最小化中断**
	- 插件加载后应自动注册资产类型、规则、看板菜单/页面配置等；不应要求整个平台长时间中断（如需中断需提供最小化窗口与回滚策略）。

4. **可观测与可审计**
	- 插件引入的规则/指标计算需可追溯来源（插件版本、规则 ID、配置快照、计算版本等）。

---

## 5. 指标体系与时序数据（统一 Metrics）要求

1. **统一指标模型**
	- 指标写入遵循统一命名与标签规范，必须包含租户/项目边界信息。
	- 控制标签基数（禁止高基数随机维度直接作为标签），提供治理规则与告警/拦截机制。

2. **典型计算能力（必须）**
	- 累计差分：支持每 key 状态管理与故障恢复
	- 事件计数：窗口聚合 + 空窗口补零
	- 常用聚合：sum/avg/max/min/last/rate 等（按配置启用与组合）

3. **保留与归档**
	- 支持热/冷数据分层、降采样策略、保留周期可配置；历史回放与重算不依赖在线热数据永久保留。

---

## 6. 关键协同契约（前后端衔接点，必须标准化）

为实现“统一界面入口”的一致体验，至少需要标准化以下契约（均需版本化与向后兼容策略）：

- 用户与权限：用户信息、租户/项目边界、权限集/能力清单、审计要求
- 模块清单：模块启用状态、可见范围、入口/依赖信息（不绑定具体集成技术）
- 导航与页面编排：菜单树、页面定义、组件/区域编排配置、权限过滤结果
- 主题与多语言：主题变量/资源、语言包资源、按需加载与可覆盖策略
- 通知与待办（可选）：跨模块消息聚合、已读/未读与处理状态同步

---

## 7. 非功能性要求（SLA/SLO 可在项目阶段量化）

- 安全：租户隔离、最小权限、敏感信息保护、关键操作审计、可配置安全策略
- 可靠性：关键链路可降级与可恢复；一致性校验与异常补偿机制可落地
- 性能：高频写入与高并发查询可扩展；热点维度与常用查询具备优化空间
- 可运维：健康检查、告警、容量与成本可视化、可演练的备份恢复能力
- 可演进：数据模型、规则与接口支持版本化；提供迁移/兼容策略，避免升级“全量改造”



# 系统介绍


### 1.1 WAGO SCADA (Supervisory Control and Data Acquisition)

**WAGO SCADA** 是整个系统的**数据采集与监控底座**，作为**运营基础层**，负责与底层硬件（PLC、RTU 和传感器）进行实时交互。在产品生态中，它为 APM 提供实时的设备运行数据，是实现“动静结合”资产管理的前提。

* **实时数据采集：** 支持多种工业协议，高频率采集过程变量（如压力、温度、流量、电量等），为上层应用提供精准的实时数据流。
* **过程控制与逻辑：** 执行复杂的控制脚本和设定点管理，实现自动化的工业流程控制。
* **组态可视化 (HMI)：** 提供强大的组态能力，通过 HMI（人机界面）和动态图形，实现生产过程的直观监控与实时预警。
* **过程数据存储：** 支持多种高性能工业数据库（如时序数据库、关系型数据库等），实现海量业务数据的长周期存储。WAGO SCADA 通过标准化的接口屏蔽了底层的存储差异，使得 APM 及上层应用无需关心传感器数据是如何存储的，实现了业务逻辑与底层物理存储的彻底解耦。
* **定时任务与时间表 (Scheduler)：** 提供强大的时间表功能，允许上层应用根据业务需求配置定时任务。支持设备巡检、定时控制下发及跨系统数据同步等自动化操作，显著提升了系统的无人化作业能力。
* **工业报警功能：** 提供多维度的报警配置与实时推送机制，支持通过短信、微信、钉钉、手机 APP 及语音等多种渠道触达用户，并具备报警屏蔽、确认、统计及转发功能，确保生产中的关键异常能够第一时间得到响应与闭环处理。
* **AI 智能组态与业务协同：** 集成 WAGO SCADA AI 助手，支持通过自然语言描述自动生成监控看板和业务界面（Text-to-Dashboard），实现秒级 UI 渲染。AI 助手可自动解析第三方 RESTful API，实现 WAGO SCADA 与 ERP、MES 等系统的数据融合与业务联动，支持在组态界面直接触发外部系统操作。该能力使 WAGO SCADA 从单一监控平台跃升为工业全业务智能协同门户。

### 1.2 APM (Asset Performance Management)

**APM** 系统是**业务智能中心**，类似于 IBM Maximo。它将关注点从简单数据采集转向资产全生命周期治理。

* **资产注册：** 全面数字化所有物理资产和备件的层级结构。
* **工单管理：** 维护工作流程（工单、预防性维护计划）的数字化。
* **资产全生命周期管理：** 覆盖资产从采购、投产、运行、维护到报废的全过程，支持资产属性、状态、位置、历史变更等信息的动态管理。
* **位置与层级结构管理：** 支持资产与位置的分离建模和多层级树状结构，便于资产与工厂、车间、生产线等逻辑或物理位置的灵活关联。
* **周转件与备件管理：** 跟踪高价值可维修备件（如电机、水泵）的流转状态，实现资产与库存的无缝衔接。
* **故障体系与分析：** 预设标准化的“类-问题-原因-措施”故障树，便于后续大数据分析和维修策略优化。
* **成本与绩效分析：** 精确核算资产全生命周期成本，支持MTBF、MTTR等关键绩效指标分析，为资产优化决策提供数据支撑。
* **监控与报警：** 实时监控关键资产运行状态，支持多维度报警规则配置，自动推送异常告警并联动工单、维护等后续流程。
* **基础仓库管理：** 支持仓库管理、库存数量、出入库、调拨、盘点等基础仓储管理功能，保障维修与资产管理的物料可用性。

* **国际标准兼容：**
	* **ISO 55000/55001/55002：** 资产管理体系国际标准，指导企业实现资产全生命周期的系统化管理。
	* **PAS 55：** 资产密集型行业资产管理规范，ISO 55000前身。
	* **ISO 13374：** 资产状态监测与诊断数据处理架构标准。
	* **ISO 10816/20816：** 机械振动监测与报警阈值标准。
	* **MIMOSA/OSA-EAM、ISO 14224等：** 设备健康数据交换与故障数据采集标准，支持与第三方系统集成。

### 1.3 EMS (Energy Management System)

**EMS** 是专注于资源效率的**专业优化工具**。

* **能耗监测：** 监控全厂的能源使用（电、水、气、蒸汽）。
* **绩效基准：** 计算能耗强度和碳足迹。
* **异常检测：** 识别能源浪费或低效运行模式。

* **ISO 50001 支持：** 深度集成 ISO 50001 能源管理体系标准，内置 PDCA 能源管理循环，助力企业实现体系化、持续改进的能效管理。
* **自动化与数据可视化：** 自动采集、统计和分析能耗数据，支持能效基准（EnB）、主要能源使用（SEU）、绩效指标（EnPI）等核心指标的可视化和趋势分析。
* **合规与审计：** 提供自动报告引擎，支持一键导出符合 ISO 50001 审计要求的能源管理评审报告，便于合规性证明。
* **节能项目追踪：** 记录和量化节能改造项目的成效，实现节能量的可量化管理。
* **自定义公式与分析：** 支持用户自定义能效计算公式，将能耗与产量、天气等变量关联分析，满足多样化业务场景。

* **国际标准兼容：**
	* **ISO 50001：** 能源管理体系国际标准，指导企业建立PDCA循环的能效管理流程，实现持续改进和合规运营。


# AI能力与业务协同 (LZG)

平台集成了先进的AI助手（如 WAGO SCADA AI智能组态），赋予工业软件生态系统以下核心智能能力：

* **自然语言界面生成（Text-to-Dashboard）：** 用户可通过自然语言描述需求，AI助手自动生成监控看板和业务界面，实现秒级UI渲染、动态脚本绑定和数据闭环，无需手动编程。
* **跨系统数据融合与业务联动：** AI助手可自动解析第三方RESTful API，实现 WAGO SCADA 与 ERP、MES 等系统的数据融合，在同一界面展示多源数据，并支持在组态界面直接触发外部系统操作。
* **开发效率与易用性提升：** 生成式AI大幅降低组态开发门槛，业务人员无需掌握复杂脚本即可定制业务场景，开发周期从“天”级缩短至“秒”级。
* **全业务智能协同门户：** 平台由单一监控系统进化为全业务智能协同中心，实现从“人工配置”到“智能生成”、从“单一系统监控”到“全链路业务协同”的跨越。

通过AI能力，平台不仅提升了开发与运维效率，还为企业实现智能化、自动化和业务协同提供了坚实基础。

# 未来可能性 (LZG)

TODO
这种“核心 + 插件”模式使平台能够在不重构基础系统的前提下，扩展到新领域。未来可扩展方向包括：

* **BMS（楼宇管理系统）插件：** 将暖通空调、照明、电梯监控集成到资产平台，服务于设施管理者。
* **OEE（设备综合效率）插件：** 增加生产绩效与质量追踪，实现制造卓越。
* **安全与合规插件：** 在同一工作流中管理环保许可和安全检查。

* **AI 预测与智能分析插件：** 利用机器学习和大数据分析，实现设备故障预测、能耗优化、智能调度等高级功能。
* **移动端与物联网扩展：** 支持移动巡检、扫码作业、远程监控和 IoT 设备接入，提升现场作业效率。
* **供应链与采购协同插件：** 实现维修、采购、库存、供应商管理的全流程数字化协同。
* **碳管理与ESG插件：** 支持碳排放监测、碳资产管理、ESG合规报告等绿色低碳管理需求。
* **数字孪生与可视化插件：** 构建资产数字孪生，实现三维可视化、虚拟仿真和运维联动。
* **知识管理与智能助手插件：** 集成知识库、智能问答、维修经验沉淀与辅助决策。





# 客户画像与目标市场

TODO:

* **目标客户：** 资产密集型行业（制造、电厂、水处理）及大型设施运营商（数据中心、医院、机场）。
* **核心价值：**
	1. **简化复杂性：** 一次登录、一个数据库、一个界面。
	2. **运营协同：** 能源数据驱动维护决策，维护数据解释能耗异常。
	3. **面向未来：** 客户可从基础资产管理起步，随着数字化成熟度提升，逐步“解锁”能源或楼宇管理功能。


