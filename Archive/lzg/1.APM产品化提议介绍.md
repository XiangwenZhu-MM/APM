# 📝 产品规划备忘录：构建面向多行业的工业智能设备管理平台

> **目标读者**：管理层、产品负责人、架构师、销售与解决方案团队  
> **核心主张**：以统一资产建模底座为核心，打造可配置、可扩展、国产化的新一代工业数字化平台，实现从“项目定制”到“产品复用”的战略转型。

---

## 一、为什么必须做？——现状、痛点与机会

### 当前能力
- 已有成熟 **Web SCADA 产品**（Angular + .NET + PostgreSQL + InfluxDB/TDengine），支持本地/云端/局域网部署及 OpenID Connect 单点登录  
- 积累多个 **IoT + 设备管理项目**（水务、粮机等），但均为定制开发，未形成可复用资产  
- 存在 **能耗管理系统（EMS）**，但与 SCADA 割裂：两套界面、两套用户体系、数据孤岛

### 核心痛点
| 角色 | 痛点 |
|------|------|
| **客户** | 多系统切换、数据无法联动、行业适配依赖定制 |
| **销售** | 缺乏标准化产品，难以规模化复制，毛利率低 |
| **开发** | 每个项目重复开发设备模型、报警逻辑、报表，效率低下 |
| **管理层** | 项目制模式不可持续，缺乏长期产品收入 |

### 市场机会
- 工业客户正从“监控可视化”迈向“**智能运营决策**”：需预测性维护、能效优化、OEE 分析  
- 中小制造、新能源、食品加工等行业亟需 **轻量、快速、国产可控** 的数字化方案  
- 招标文件中高频出现 “统一平台”、“AI 辅助”、“数字孪生”、“国产化适配” 等关键词

---

## 二、我们要做什么？——产品愿景与差异化定位

> **打造一个以“语义化资产建模”为核心的工业智能平台，实现：**
> - **一套系统**：统一入口、统一身份、统一资产视图  
> - **一次建模**：设备模型可配置、可复用、可扩展  
> - **多行业覆盖**：通过“行业插件包”快速适配新能源、制造、粮机等场景  
> - **智能增强**：集成规则引擎与国产 AI 插件，提升易用性与竞争力  

### 差异化定位
> **“IBM Maximo 的资产全生命周期理念 + UiPath 的低门槛配置体验，但更轻、更快、更聚焦工业运行效率，且全面支持国产化与内网部署。”**

> **vs 安科瑞 / 厂务系统**：  
> - 安科瑞是“**标准计量设备监控一体机**”，我们是“**任意工业设备的通用管理平台**”  
> - 厂务系统是“**一个客户一个项目**”，我们是“**一个平台服务百个行业**”

---

## 三、如何实现？——统一核心引擎 + 行业插件机制

### 架构原则
- **底座不直接做行业功能，而是提供构建行业功能的“乐高积木”**  
- **核心稳定（关系库），扩展灵活（配置+插件），性能保障（时序库）**

### 统一核心引擎：8 项硬核能力（MVP 阶段必须具备）

| 能力 | 关键功能 | 技术实现 |
|------|--------|--------|
| **1. 语义化资产建模** | Asset Type 模板、Submodel 动态挂载、JSON 扩展字段 | PostgreSQL + JSONB |
| **2. 测点-资产绑定** | SCADA 测点自动关联 asset_id | `measurement_point(asset_id, tag, unit)` 表 |
| **3. 多维聚合计算** | 按设备/区域/时间动态统计 KPI（如能耗、OEE） | 动态 SQL + 物化视图 |
| **4. 规则与事件引擎** | 可视化配置：IF (tag > X 持续 Y 分钟) → 建工单/发通知 | 轻量规则引擎（自研或 Drools） |
| **5. 权限与租户隔离** | 基于资产树的 RBAC，支持集团-工厂多级管理 | OPA 或自定义策略 |
| **6. 插件注册机制** | 行业插件以 YAML/ZIP 包形式注册，自动加载菜单/API | 插件元数据注册中心 |
| **7. 统一工作台** | SSO + 动态菜单聚合 + 设备上下文传递 | 微前端或安全 iframe 沙箱 |
| **8. AAS 兼容接口（可选）** | 提供 `/aas/{id}` 标准接口，支持未来生态对接 | IEC 63278 适配器 |

---

### 行业插件机制：如何实现“插件即行业解决方案”？

每个行业插件 = **配置包 +（可选）轻量代码**，包含：

```yaml
plugin/
├── metadata.yml               # 插件元信息
├── asset_types/battery.json   # 设备类型模板
├── submodels/energy.json      # 能效子模型（含测点绑定建议）
├── kpis/battery_kpis.json     # 预置KPI表达式
├── dashboards/overview.json   # 默认看板布局
├── rules/thermal.rule         # 预置预警规则
└── (可选) backend/            # 特殊计算微服务
```

#### 平台加载流程：
1. 管理员上传插件包  
2. 平台自动注册：新设备类型、子模型、菜单项、规则  
3. 用户创建设备时，自动带出行业字段与测点建议  
4. 看板自动聚合相关数据，无需开发

> ✅ **效果**：新行业上线从“数周”缩短至“数小时”。

---

## 四、具体场景示例：底座如何快速响应需求？

### 示例 1：锂电池厂 —— 电池簇健康监控
- **需求**：监控 SOC/SOH，SOH<80% 预警，统计产线充放电效率  
- **实现**：
  1. 加载“新能源电池插件”
  2. 创建设备，绑定 `socTag`、`sohTag`
  3. 系统自动应用预置规则与看板
- **交付周期**：1 天（传统项目需 2–4 周）

### 示例 2：粮机客户 —— 风机保养计划
- **需求**：累计运行 2000 小时自动生成润滑工单  
- **实现**：
  1. 复用“旋转设备”模板，扩展保养字段
  2. 配置规则：`IF(运行时长 ≥ 阈值) → 创建工单`
- **无需编码**，仅配置即可

---

## 五、分阶段演进路线

| 阶段 | 目标 | 核心交付 |
|------|------|--------|
| **MVP** | 统一底座，打通 SCADA + 资产 + EMS | - 资产建模引擎- 测点绑定- 多维聚合 API- 基础规则引擎- 统一工作台 |
| **行业扩展** | 插件化行业解决方案 | - 新能源/制造插件包- 低代码 KPI 配置器- 轻量工单 + 移动端 |
| **智能增强** | AI 插件化 | - 国产 AI 模型插件（如 PaddleTS）- 自然语言问答- 设备健康 Agent |

---

## 六、预期收益

| 维度 | 预期效果 |
|------|--------|
| **客户** | 系统整合、上线快、数据可联动、运维效率提升 |
| **销售** | 从“项目报价”转向“产品订阅”，毛利率提升 30%+ |
| **开发** | 新项目 80% 功能通过配置实现，开发量减少 50%+ |
| **战略** | 构建可复用平台，形成技术壁垒与生态基础 |

---

## 七、下一步行动建议

1. **确认 MVP 范围**：优先实现 P0 级底座能力（资产建模 + 测点绑定 + 聚合 API）  
2. **设计插件规范**：输出 `plugin.yaml` 结构与注册流程  
3. **制作 Demo**：基于“新能源电池”场景，展示底座价值  
4. **启动 AAS 兼容评估**：为未来标准对接预留接口  

---

## 结语

> 我们不是在重复造轮子，而是在**重新定义工业软件的构建方式**。  
> 通过一个强大的通用底座，让每一个行业需求都能被快速、低成本、高质量地满足。  
>  
> **从“做项目”到“做平台”，是我们迈向产品化、规模化、可持续增长的关键一步。**

---

✅ **附件建议（后续可补充）**：
- 统一资产模型 ER 图（含 AAS 映射）
- 插件 YAML 配置完整示例
- MVP 功能优先级矩阵（MoSCoW）
- 与安科瑞/厂务系统的详细功能对比表

---
